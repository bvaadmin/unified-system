<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Your Spouse - Memorial Garden - Bay View Association</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
            margin: 0;
        }
        
        .container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .header h1 {
            color: #2c5aa0;
            margin-bottom: 15px;
        }
        
        .header p {
            color: #666;
            font-size: 1.1em;
        }
        
        .compassion-message {
            background: #f0f8ff;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: center;
            border-left: 4px solid #2c5aa0;
        }
        
        .compassion-message p {
            margin: 0;
            color: #555;
            font-size: 1.05em;
        }
        
        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 40px;
            overflow: hidden;
        }
        
        .progress {
            background: #2c5aa0;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section h2 {
            color: #2c5aa0;
            margin-bottom: 25px;
            font-size: 1.4em;
        }
        
        .info-note {
            background: #fffbf0;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #ffc107;
        }
        
        .info-note p {
            margin: 0;
            color: #856404;
            font-size: 0.95em;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
        }
        
        .required {
            color: #dc3545;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #2c5aa0;
        }
        
        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .radio-option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .radio-option label {
            margin: 0;
            font-weight: normal;
            cursor: pointer;
        }
        
        .help-text {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }
        
        .save-reminder {
            background: #e8f4ff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .save-reminder p {
            margin: 0 0 10px 0;
            color: #2c5aa0;
            font-weight: 600;
        }
        
        .save-status {
            color: #28a745;
            font-size: 0.9em;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #e0e0e0;
        }
        
        .btn {
            padding: 12px 30px;
            border-radius: 5px;
            font-size: 1em;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: #2c5aa0;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1e3d6f;
        }
        
        .btn-secondary {
            background: transparent;
            color: #2c5aa0;
            border: 1px solid #2c5aa0;
        }
        
        .btn-secondary:hover {
            background: #f0f8ff;
        }
        
        .btn-save {
            background: #28a745;
            color: white;
        }
        
        .btn-save:hover {
            background: #218838;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .radio-group {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Memorial Garden Application</h1>
            <p>For your spouse</p>
        </div>
        
        <div class="compassion-message">
            <p>We understand this is a difficult time. We'll guide you through each step, and you can save your progress at any time.</p>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progressBar" style="width: 25%;"></div>
        </div>
        
        <form id="spouseForm">
            <div class="section" id="section1">
                <h2>About Your Spouse</h2>
                
                <div class="form-group">
                    <label for="spouseName">Full name <span class="required">*</span></label>
                    <input type="text" id="spouseName" name="spouseName" required>
                </div>
                
                <div class="form-group">
                    <label for="maidenName">Maiden name (if applicable)</label>
                    <input type="text" id="maidenName" name="maidenName">
                </div>
                
                <div class="form-group">
                    <label for="birthDate">Date of birth <span class="required">*</span></label>
                    <input type="date" id="birthDate" name="birthDate" required>
                </div>
                
                <div class="form-group">
                    <label for="deathDate">Date of passing <span class="required">*</span></label>
                    <input type="date" id="deathDate" name="deathDate" required>
                </div>
                
                <div class="form-group">
                    <label for="birthPlace">Place of birth</label>
                    <input type="text" id="birthPlace" name="birthPlace" placeholder="City, State/Country">
                </div>
            </div>
            
            <div class="section" id="section2" style="display: none;">
                <h2>Bay View Connection</h2>
                
                <div class="info-note">
                    <p>If your spouse was a Bay View member, the member rate applies ($400). Otherwise, a member sponsor is required ($1,000).</p>
                </div>
                
                <div class="form-group">
                    <label>Was your spouse a Bay View member? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="memberYes" name="wasMember" value="yes" required>
                            <label for="memberYes">Yes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="memberNo" name="wasMember" value="no" required>
                            <label for="memberNo">No</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="membershipYears" style="display: none;">
                    <label for="yearsMember">Years of membership (approximate)</label>
                    <input type="text" id="yearsMember" name="yearsMember" placeholder="e.g., 1985-2023 or 30+ years">
                </div>
                
                <div class="form-group">
                    <label for="bayviewHistory">Bay View history and memories</label>
                    <textarea id="bayviewHistory" name="bayviewHistory" placeholder="Share any special connections, roles, or memories your spouse had with Bay View"></textarea>
                    <p class="help-text">This helps us honor their connection to our community</p>
                </div>
            </div>
            
            <div class="section" id="section3" style="display: none;">
                <h2>Your Information</h2>
                
                <div class="form-group">
                    <label for="yourName">Your full name <span class="required">*</span></label>
                    <input type="text" id="yourName" name="yourName" required>
                </div>
                
                <div class="form-group">
                    <label for="yourPhone">Phone number <span class="required">*</span></label>
                    <input type="tel" id="yourPhone" name="yourPhone" required>
                </div>
                
                <div class="form-group">
                    <label for="yourEmail">Email address</label>
                    <input type="email" id="yourEmail" name="yourEmail">
                </div>
                
                <div class="form-group">
                    <label for="yourAddress">Mailing address <span class="required">*</span></label>
                    <textarea id="yourAddress" name="yourAddress" required placeholder="Street address
City, State ZIP"></textarea>
                </div>
                
                <div class="form-group">
                    <label>Are you a Bay View member?</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="youMemberYes" name="youAreMember" value="yes">
                            <label for="youMemberYes">Yes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="youMemberNo" name="youAreMember" value="no">
                            <label for="youMemberNo">No</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section" id="section4" style="display: none;">
                <h2>Memorial Service Plans</h2>
                
                <div class="form-group">
                    <label>Are you planning a memorial service?</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="serviceYes" name="planningService" value="yes">
                            <label for="serviceYes">Yes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="serviceNo" name="planningService" value="no">
                            <label for="serviceNo">Not at this time</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="serviceUndecided" name="planningService" value="undecided">
                            <label for="serviceUndecided">Undecided</label>
                        </div>
                    </div>
                </div>
                
                <div id="serviceDetails" style="display: none;">
                    <div class="form-group">
                        <label for="serviceDate">Preferred service date</label>
                        <input type="date" id="serviceDate" name="serviceDate">
                    </div>
                    
                    <div class="form-group">
                        <label for="celebrant">Preferred celebrant/clergy</label>
                        <input type="text" id="celebrant" name="celebrant">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="specialRequests">Special requests or notes</label>
                    <textarea id="specialRequests" name="specialRequests" placeholder="Any special considerations or requests"></textarea>
                </div>
            </div>
        </form>
        
        <div class="save-reminder">
            <p>Your progress is automatically saved</p>
            <span class="save-status" id="saveStatus">Last saved: Just now</span>
        </div>
        
        <div class="navigation">
            <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeSection(-1)" style="display: none;">
                ← Previous
            </button>
            <button type="button" class="btn btn-primary" id="nextBtn" onclick="changeSection(1)">
                Next →
            </button>
            <button type="submit" class="btn btn-save" id="submitBtn" style="display: none;">
                Submit Application
            </button>
        </div>
    </div>
    
    <script>
        let currentSection = 1;
        const totalSections = 4;
        
        // Auto-save functionality
        let saveTimeout;
        const formData = {};
        
        document.querySelectorAll('input, textarea, select').forEach(field => {
            field.addEventListener('input', () => {
                clearTimeout(saveTimeout);
                saveTimeout = setTimeout(saveProgress, 1000);
            });
        });
        
        function saveProgress() {
            // Collect all form data
            const form = document.getElementById('spouseForm');
            const data = new FormData(form);
            
            for (let [key, value] of data.entries()) {
                formData[key] = value;
            }
            
            // Save to localStorage
            localStorage.setItem('spouseFormData', JSON.stringify(formData));
            
            // Update save status
            const now = new Date();
            document.getElementById('saveStatus').textContent = `Last saved: ${now.toLocaleTimeString()}`;
        }
        
        function loadProgress() {
            const saved = localStorage.getItem('spouseFormData');
            if (saved) {
                const data = JSON.parse(saved);
                Object.keys(data).forEach(key => {
                    const field = document.querySelector(`[name="${key}"]`);
                    if (field) {
                        field.value = data[key];
                        if (field.type === 'radio' && field.value === data[key]) {
                            field.checked = true;
                        }
                    }
                });
            }
        }
        
        function changeSection(direction) {
            // Validate current section before moving forward
            if (direction > 0 && !validateSection(currentSection)) {
                return;
            }
            
            // Hide current section
            document.getElementById(`section${currentSection}`).style.display = 'none';
            
            // Update section number
            currentSection += direction;
            
            // Show new section
            document.getElementById(`section${currentSection}`).style.display = 'block';
            
            // Update progress bar
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Update navigation buttons
            updateNavigation();
            
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            // Show/hide previous button
            prevBtn.style.display = currentSection > 1 ? 'inline-block' : 'none';
            
            // Show next or submit button
            if (currentSection === totalSections) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'inline-block';
            } else {
                nextBtn.style.display = 'inline-block';
                submitBtn.style.display = 'none';
            }
        }
        
        function validateSection(section) {
            const sectionEl = document.getElementById(`section${section}`);
            const requiredFields = sectionEl.querySelectorAll('[required]');
            let valid = true;
            
            requiredFields.forEach(field => {
                if (!field.value) {
                    field.style.borderColor = '#dc3545';
                    valid = false;
                } else {
                    field.style.borderColor = '#ddd';
                }
            });
            
            if (!valid) {
                alert('Please fill in all required fields before continuing.');
            }
            
            return valid;
        }
        
        // Handle membership question changes
        document.querySelectorAll('input[name="wasMember"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const membershipYears = document.getElementById('membershipYears');
                membershipYears.style.display = e.target.value === 'yes' ? 'block' : 'none';
            });
        });
        
        // Handle service planning changes
        document.querySelectorAll('input[name="planningService"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const serviceDetails = document.getElementById('serviceDetails');
                serviceDetails.style.display = e.target.value === 'yes' ? 'block' : 'none';
            });
        });
        
        // Form submission
        document.getElementById('submitBtn').addEventListener('click', (e) => {
            e.preventDefault();
            
            if (!validateSection(currentSection)) {
                return;
            }
            
            saveProgress();
            
            // In production, this would submit to the API
            alert('Application submitted successfully. We will contact you within 2-3 business days.');
            
            // Clear saved data
            localStorage.removeItem('spouseFormData');
            
            // Redirect to confirmation
            window.location.href = '../';
        });
        
        // Load any saved progress
        loadProgress();
    </script>
</body>
</html>